{#
/**
 * @file
 * Theme override for user account edit page (customer profile).
 *
 * Beautiful, card-based layout for editing user account and customer profile.
 * Pastel "Your lane to great events." style with rounded cards and mobile-first design.
 */
#}

<div class="mel-page mel-page--profile mel-page--customer-profile">
  <div class="mel-container">
    
    {# Page Header #}
    <div class="mel-profile-header">
      <h1 class="mel-profile-header-title">{{ 'My Account'|t }}</h1>
      <p class="mel-profile-header-subtitle">{{ 'Manage your account information and preferences'|t }}</p>
    </div>

    {# Profile Cards Grid #}
    <div class="mel-profile-grid">
      
      {# Account Information Card #}
      <div class="mel-profile-card">
        <div class="mel-profile-card-header">
          <div class="mel-profile-card-icon mel-profile-card-icon--account">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <circle cx="12" cy="8" r="4" stroke="currentColor" stroke-width="2"/>
              <path d="M5 21c0-3.314 3.134-6 7-6s7 2.686 7 6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <h2 class="mel-profile-card-title">{{ 'Account Information'|t }}</h2>
        </div>
        <div class="mel-profile-card-body">
          {% if form.user_picture %}
            <div class="mel-profile-avatar-section">
              {{ form.user_picture }}
              <p class="mel-profile-avatar-help">{{ 'Upload a profile picture to personalize your account'|t }}</p>
            </div>
          {% endif %}
          
          {% if form.account %}
            {{ form.account }}
          {% endif %}
        </div>
      </div>

      {# Customer Profile Card (Shipping/Billing) #}
      <div class="mel-profile-card">
        <div class="mel-profile-card-header">
          <div class="mel-profile-card-icon mel-profile-card-icon--address">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" fill="currentColor"/>
            </svg>
          </div>
          <h2 class="mel-profile-card-title">{{ 'Shipping & Billing Address'|t }}</h2>
        </div>
        <div class="mel-profile-card-body">
          <p class="mel-profile-card-description">{{ 'Add or update your address information for faster checkout'|t }}</p>
          {# Customer profiles will be rendered here via AJAX or separate route #}
          <div class="mel-profile-customer-profiles">
            <p class="mel-profile-empty-state">{{ 'Customer profile information can be added during checkout or managed in your orders'|t }}</p>
          </div>
        </div>
      </div>

      {# Preferences Card #}
      {% if form.contact or form.timezone or form.language %}
        <div class="mel-profile-card">
          <div class="mel-profile-card-header">
            <div class="mel-profile-card-icon mel-profile-card-icon--settings">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z" fill="currentColor"/>
              </svg>
            </div>
            <h2 class="mel-profile-card-title">{{ 'Preferences'|t }}</h2>
          </div>
          <div class="mel-profile-card-body">
            {% if form.contact %}
              <div class="mel-profile-section">
                <h3 class="mel-profile-section-title">{{ 'Contact Preferences'|t }}</h3>
                {{ form.contact }}
              </div>
            {% endif %}
            
            {% if form.timezone %}
              <div class="mel-profile-section">
                <h3 class="mel-profile-section-title">{{ 'Regional Settings'|t }}</h3>
                {{ form.timezone }}
              </div>
            {% endif %}
            
            {% if form.language %}
              <div class="mel-profile-section">
                <h3 class="mel-profile-section-title">{{ 'Language'|t }}</h3>
                {{ form.language }}
              </div>
            {% endif %}
          </div>
        </div>
      {% endif %}

    </div>

    {# Form Actions #}
    <div class="mel-profile-actions">
      {{ form.actions }}
    </div>

    {# Render any remaining form elements (hidden fields, tokens, etc.) #}
    {{ form|without('account', 'user_picture', 'contact', 'timezone', 'language', 'actions', 'form_build_id', 'form_token', 'form_id') }}
    {{ form.form_build_id }}
    {{ form.form_token }}
    {{ form.form_id }}

  </div>
</div>
{#
  Front page wrapper.
  Renders the custom hero, then exactly two Views blocks.
#}

{% set page_attributes = create_attribute() %}
{% set page_attributes = page_attributes.addClass('mel-page', 'mel-page--front', 'mel-front') %}

<div{{ page_attributes }}>

  {# Skip to main content #}
  <a href="#main-content" class="visually-hidden focusable skip-link">
    {{ 'Skip to main content'|t }}
  </a>

  {{ title_prefix }}
  {{ title_suffix }}

  {# ==================== HEADER ==================== #}
  <div class="mel-region-header">
    {% include '@myeventlane_theme/includes/header.html.twig' %}
  </div>

  {# ==================== HERO (EVENT-LED) ==================== #}
  <section class="mel-home-hero">
    <div class="mel-container">
      <div class="mel-home-hero__wrapper">
        <div class="mel-home-hero__content">
          <h1>Your lane to great events.</h1>
          <p>Discover local events, workshops, gigs, and community gatherings â€” or create your own in minutes.</p>

          {% include '@myeventlane_theme/components/front/_front-search.html.twig' with {
            front: mel_front|default({})
          } only %}

          <div class="mel-home-hero__categories">
            <p class="mel-home-hero__categories-intro">Explore by interest</p>
            {% include '@myeventlane_theme/components/front/_front-pills.html.twig' with {
              front: mel_front|default({})
            } only %}
          </div>
        </div>

        <div class="mel-home-hero__visual">
          {% if featured_events is defined and featured_events %}
            <div class="mel-home-hero__event-strip">
              {{ featured_events }}
            </div>
          {% endif %}
        </div>
      </div>
    </div>
  </section>

  {# ==================== MAIN (TWO VIEWS ONLY) ==================== #}
  <main id="main-content" class="mel-main mel-front-content" role="main">
    <div class="mel-container mel-home-events">
      <section class="mel-featured-events">
        <h2>Featured events</h2>
        <p class="mel-featured-events__helper">Handpicked events happening soon.</p>
        <div class="mel-featured-events__row">
          {% if featured_events is defined and featured_events %}
            {{ featured_events }}
          {% else %}
            {{ drupal_block('views_block:featured_events-block_featured') }}
          {% endif %}
        </div>
      </section>

      <section class="mel-all-events">
        <h2>All events</h2>
        <p class="mel-all-events__helper">Browse everything happening on MyEventLane.</p>
        {{ drupal_view('upcoming_events', 'block_upcoming') }}
      </section>

      <section class="mel-home-calendar">
        <h2>Browse by date</h2>
        <p class="mel-home-calendar__intro">See what's happening over the next few weeks.</p>
        {% if calendar is defined and calendar %}
          {% include '@myeventlane_theme/components/front/_front-calendar.html.twig' with {
            calendar: calendar
          } only %}
        {% endif %}
      </section>

      {# Call to Action #}
      <section class="mel-home-cta">
        <div class="mel-home-cta__content">
          <p class="mel-home-cta__question">Got something to share?</p>
          <p class="mel-home-cta__text">Create an event in minutes.</p>
        </div>
      </section>
    </div>
  </main>

  {# ==================== FOOTER ==================== #}
  <div class="mel-region-footer">
    {% include '@myeventlane_theme/includes/footer.html.twig' %}
  </div>

</div>

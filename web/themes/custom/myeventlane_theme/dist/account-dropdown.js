(function(){function o(i){i=i||document,i.querySelectorAll(".mel-account-dropdown").forEach(function(e){if(e.hasAttribute("data-dropdown-initialized"))return;e.setAttribute("data-dropdown-initialized","true");const a=e.querySelector(".mel-account-toggle"),l=e.querySelector(".mel-account-menu");if(!a||!l){console.warn("Account dropdown missing toggle or menu");return}const t=a.cloneNode(!0);a.parentNode.replaceChild(t,a);const s=e.querySelector(".mel-account-menu");t.addEventListener("click",function(n){n.preventDefault(),n.stopPropagation(),e.classList.contains("is-open")?(e.classList.remove("is-open"),t.setAttribute("aria-expanded","false"),s.setAttribute("aria-hidden","true")):(document.querySelectorAll(".mel-account-dropdown.is-open").forEach(function(c){if(c!==e){c.classList.remove("is-open");const r=c.querySelector(".mel-account-toggle"),u=c.querySelector(".mel-account-menu");r&&r.setAttribute("aria-expanded","false"),u&&u.setAttribute("aria-hidden","true")}}),e.classList.add("is-open"),t.setAttribute("aria-expanded","true"),s.setAttribute("aria-hidden","false"))});const d=function(n){!e.contains(n.target)&&e.classList.contains("is-open")&&(e.classList.remove("is-open"),t.setAttribute("aria-expanded","false"),s.setAttribute("aria-hidden","true"))};document.addEventListener("click",d,!0);const f=function(n){n.key==="Escape"&&e.classList.contains("is-open")&&(e.classList.remove("is-open"),t.setAttribute("aria-expanded","false"),s.setAttribute("aria-hidden","true"),t.focus())};document.addEventListener("keydown",f)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",function(){o()}):setTimeout(function(){o()},50),typeof Drupal<"u"&&Drupal.behaviors&&(Drupal.behaviors.myeventlaneAccountDropdownDirect={attach:function(i){o(i)}})})();

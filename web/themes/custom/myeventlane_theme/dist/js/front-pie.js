(function(v,f){v.behaviors.melFrontPie={attach(p){f("melFrontPie","[data-mel-pie]",p).forEach(i=>{const l=i.querySelectorAll("[data-mel-slice]"),r=i.querySelectorAll("[data-mel-legend]"),s=i.querySelector("[data-mel-tooltip]"),o=i.querySelector("[data-mel-tooltip-title]"),d=i.querySelector("[data-mel-tooltip-meta]"),n=()=>{l.forEach(e=>e.classList.remove("is-active")),r.forEach(e=>e.classList.remove("is-active")),s&&(s.classList.remove("is-active"),s.setAttribute("aria-hidden","true"))},c=(e,t)=>{n();const a=i.querySelector(`[data-mel-slice="${e}"]`),u=i.querySelector(`[data-mel-legend="${e}"]`);if(a&&a.classList.add("is-active"),u&&u.classList.add("is-active"),s&&a){const y=a.getAttribute("data-mel-label")||"",E=a.getAttribute("data-mel-count")||"0",L=a.getAttribute("data-mel-percent")||"0";if(o&&(o.textContent=y),d&&(d.textContent=`${E} events (${L}%)`),t&&t.clientX&&t.clientY){const m=i.getBoundingClientRect(),b=t.clientX-m.left,g=t.clientY-m.top;s.style.setProperty("--mel-tip-x",`${b}px`),s.style.setProperty("--mel-tip-y",`${g}px`)}s.classList.add("is-active"),s.setAttribute("aria-hidden","false")}};l.forEach(e=>{const t=e.getAttribute("data-mel-slice");t&&(e.addEventListener("mousemove",a=>c(t,a)),e.addEventListener("mouseenter",a=>c(t,a)),e.addEventListener("mouseleave",()=>n()))}),r.forEach(e=>{const t=e.getAttribute("data-mel-legend");t&&(e.addEventListener("mouseenter",()=>c(t,null)),e.addEventListener("mouseleave",()=>n()))}),i.ownerDocument.querySelectorAll("[data-mel-cat]").forEach(e=>{const t=e.getAttribute("data-mel-cat");t&&(e.addEventListener("mouseenter",()=>c(t,null)),e.addEventListener("mouseleave",()=>n()))})})}}})(Drupal,once);

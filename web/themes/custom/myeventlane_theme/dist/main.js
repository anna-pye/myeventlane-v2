function u(){const s=document.querySelector(".mel-nav-toggle"),i=document.querySelector(".mel-nav-mobile-wrapper"),t=document.querySelector(".mel-nav-mobile-close");if(!s||!i)return;let e=document.querySelector(".mel-nav-overlay");e||(e=document.createElement("div"),e.className="mel-nav-overlay",e.setAttribute("aria-hidden","true"),document.body.appendChild(e));function a(){i.classList.add("is-open"),s.classList.add("is-active"),e.classList.add("is-visible"),s.setAttribute("aria-expanded","true"),document.body.style.overflow="hidden";const n=i.querySelector("a");n&&n.focus()}function o(){i.classList.remove("is-open"),s.classList.remove("is-active"),e.classList.remove("is-visible"),s.setAttribute("aria-expanded","false"),document.body.style.overflow="",s.focus()}s.addEventListener("click",()=>{i.classList.contains("is-open")?o():a()}),t&&t.addEventListener("click",o),e.addEventListener("click",o),document.addEventListener("keydown",n=>{n.key==="Escape"&&i.classList.contains("is-open")&&o()}),window.matchMedia("(min-width: 768px)").addEventListener("change",n=>{n.matches&&i.classList.contains("is-open")&&o()})}function m(){console.log("initAccountDropdown called");function s(){console.log("Setting up account dropdowns...");const i=document.querySelectorAll(".mel-account-dropdown");if(console.log(`Found ${i.length} dropdown(s)`),i.length===0){console.warn("No account dropdowns found on page");return}i.forEach(t=>{const e=t.querySelector(".mel-account-toggle"),a=t.querySelector(".mel-account-menu");!e||!a||(e.addEventListener("click",function(o){o.preventDefault(),o.stopPropagation(),t.classList.contains("is-open")?(t.classList.remove("is-open"),e.setAttribute("aria-expanded","false"),a.setAttribute("aria-hidden","true")):(document.querySelectorAll(".mel-account-dropdown.is-open").forEach(n=>{if(n!==t){n.classList.remove("is-open");const l=n.querySelector(".mel-account-toggle"),d=n.querySelector(".mel-account-menu");l&&l.setAttribute("aria-expanded","false"),d&&d.setAttribute("aria-hidden","true")}}),t.classList.add("is-open"),e.setAttribute("aria-expanded","true"),a.setAttribute("aria-hidden","false"))}),document.addEventListener("click",function(c){!t.contains(c.target)&&t.classList.contains("is-open")&&(t.classList.remove("is-open"),e.setAttribute("aria-expanded","false"),a.setAttribute("aria-hidden","true"))},!0),document.addEventListener("keydown",function(c){c.key==="Escape"&&t.classList.contains("is-open")&&(t.classList.remove("is-open"),e.setAttribute("aria-expanded","false"),a.setAttribute("aria-hidden","true"),e.focus())}))})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",s):setTimeout(s,50)}function r(){console.log("MyEventLane theme JS initializing..."),u(),m(),document.documentElement.classList.add("js-loaded"),console.log("MyEventLane theme JS initialized")}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",r):r();

{#
  Event settings view.
  Variables: event.
#}

{# Event Status Card #}
<div class="mel-card mel-mb-lg">
  <div class="mel-card__header">
    <div class="mel-card__title">{{ 'Event Status'|t }}</div>
  </div>
  <div class="mel-card__body">
    <div class="mel-grid mel-grid--2">
      <div class="mel-stat">
        <div class="mel-stat__label">{{ 'Status'|t }}</div>
        <div class="mel-stat__value">
          {% if event.isPublished() %}
            <span class="mel-badge mel-badge--success">{{ 'Published'|t }}</span>
          {% else %}
            <span class="mel-badge mel-badge--warning">{{ 'Draft'|t }}</span>
          {% endif %}
        </div>
      </div>
      <div class="mel-stat">
        <div class="mel-stat__label">{{ 'Created'|t }}</div>
        <div class="mel-stat__value">{{ event.getCreatedTime()|date('M j, Y') }}</div>
      </div>
    </div>
  </div>
</div>

{# Quick Actions #}
<div class="mel-card mel-mb-lg">
  <div class="mel-card__header">
    <div class="mel-card__title">{{ 'Quick Actions'|t }}</div>
  </div>
  <div class="mel-card__body">
    <div class="mel-list mel-list--actions">
      <a class="mel-list__item mel-list__item--link" href="{{ path('entity.node.edit_form', {'node': event.id()}) }}">
        <span class="mel-list__icon">âœï¸</span>
        <span class="mel-list__text">{{ 'Edit Event Details'|t }}</span>
        <span class="mel-list__arrow">â†’</span>
      </a>
      <a class="mel-list__item mel-list__item--link" href="{{ path('entity.node.canonical', {'node': event.id()}) }}" target="_blank">
        <span class="mel-list__icon">ğŸ‘ï¸</span>
        <span class="mel-list__text">{{ 'View Public Page'|t }}</span>
        <span class="mel-list__arrow">â†’</span>
      </a>
      <a class="mel-list__item mel-list__item--link" href="/event/{{ event.id() }}/book" target="_blank">
        <span class="mel-list__icon">ğŸŸï¸</span>
        <span class="mel-list__text">{{ 'View Booking Page'|t }}</span>
        <span class="mel-list__arrow">â†’</span>
      </a>
      <a class="mel-list__item mel-list__item--link" href="/event/{{ event.id() }}/boost">
        <span class="mel-list__icon">âš¡</span>
        <span class="mel-list__text">{{ 'Boost This Event'|t }}</span>
        <span class="mel-list__arrow">â†’</span>
      </a>
    </div>
  </div>
</div>

{# Event Information Summary #}
<div class="mel-card mel-mb-lg">
  <div class="mel-card__header">
    <div class="mel-card__title">{{ 'Event Information'|t }}</div>
    <a href="{{ path('entity.node.edit_form', {'node': event.id()}) }}" class="mel-btn mel-btn--sm mel-btn--ghost">{{ 'Edit'|t }}</a>
  </div>
  <div class="mel-card__body">
    <dl class="mel-dl">
      <dt>{{ 'Title'|t }}</dt>
      <dd>{{ event.label() }}</dd>
      
      {% if event.field_event_start.value %}
        <dt>{{ 'Date & Time'|t }}</dt>
        <dd>{{ event.field_event_start.value|date('l, F j, Y \\a\\t g:ia') }}</dd>
      {% endif %}
      
      {% if event.field_event_venue.value %}
        <dt>{{ 'Venue'|t }}</dt>
        <dd>{{ event.field_event_venue.value }}</dd>
      {% endif %}
      
      {% if event.field_event_type.value %}
        <dt>{{ 'Event Type'|t }}</dt>
        <dd>{{ event.field_event_type.value|capitalize }}</dd>
      {% endif %}
    </dl>
  </div>
</div>

{# Danger Zone #}
<div class="mel-card mel-card--danger">
  <div class="mel-card__header">
    <div class="mel-card__title">{{ 'Danger Zone'|t }}</div>
  </div>
  <div class="mel-card__body">
    <p class="mel-text--muted mel-mb-md">{{ 'Be careful with these actions. They may have irreversible consequences.'|t }}</p>
    
    <div class="mel-list mel-list--actions">
      {% if event.isPublished() %}
        <div class="mel-list__item mel-list__item--danger">
          <div>
            <strong>{{ 'Unpublish Event'|t }}</strong>
            <p class="mel-text--muted mel-text--sm">{{ 'Hide this event from the public. You can republish it later.'|t }}</p>
          </div>
          <a href="{{ path('entity.node.edit_form', {'node': event.id()}) }}" class="mel-btn mel-btn--sm mel-btn--ghost mel-btn--danger">{{ 'Unpublish'|t }}</a>
        </div>
      {% else %}
        <div class="mel-list__item mel-list__item--success">
          <div>
            <strong>{{ 'Publish Event'|t }}</strong>
            <p class="mel-text--muted mel-text--sm">{{ 'Make this event visible to the public.'|t }}</p>
          </div>
          <a href="{{ path('entity.node.edit_form', {'node': event.id()}) }}" class="mel-btn mel-btn--sm mel-btn--primary">{{ 'Publish'|t }}</a>
        </div>
      {% endif %}
      
      <div class="mel-list__item mel-list__item--danger">
        <div>
          <strong>{{ 'Delete Event'|t }}</strong>
          <p class="mel-text--muted mel-text--sm">{{ 'Permanently delete this event and all associated data.'|t }}</p>
        </div>
        <a href="{{ path('entity.node.delete_form', {'node': event.id()}) }}" class="mel-btn mel-btn--sm mel-btn--ghost mel-btn--danger">{{ 'Delete'|t }}</a>
      </div>
    </div>
  </div>
</div>

{#
  Vendor Event form wrapper.
  PHP builds the wizard structure.
  Twig only prints it.
  
  If form.mel_wizard exists, it contains the full wizard layout (stepper, content, diagnostics).
  Otherwise, render the form normally (fallback for non-wizard contexts).
#}

<form{{ attributes.addClass('mel-event-form-page') }}>
  {{ form.form_build_id }}
  {{ form.form_token }}
  {{ form.form_id }}

  {# Wizard structure takes precedence - render it if present #}
  {% if form.mel_wizard %}
    {# Render the wizard structure built by EventFormAlter #}
    {{ form.mel_wizard }}
  {% else %}
    {# No wizard - render form fields normally (shouldn't happen in vendor context, but fallback) #}
    {{ form|without(
      'form_build_id',
      'form_token',
      'form_id',
      'actions'
    ) }}
  {% endif %}

  {% if form.actions %}
    <div class="mel-event-form__actions-wrapper">
      {{ form.actions }}
    </div>
  {% endif %}
</form>

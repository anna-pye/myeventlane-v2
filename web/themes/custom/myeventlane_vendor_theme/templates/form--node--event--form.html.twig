{#
/**
 * Vendor console override for Event node add/edit form.
 *
 * Mirrors the public theme layout so the vendor domain sees the same
 * sectioned form (including Visibility & Promotion).
 */
#}

{# Visible debug to confirm this template is used #}
<div style="background: #ffeb3b; padding: 10px; margin: 10px 0; border: 2px solid #f57f17; font-weight: bold;">
  üîç DEBUG: Vendor Event Form Template (vendor theme)
  {% if node %}
    (Edit Mode - Node ID: {{ node.id }})
  {% else %}
    (Create Mode)
  {% endif %}
  - Form ID: {{ form['#form_id']|default('unknown') }}
  - Form keys: {{ form|keys|join(', ') }}
  - Has location: {{ form.location is defined ? 'YES' : 'NO' }}
  - Has booking_config: {{ form.booking_config is defined ? 'YES' : 'NO' }}
  - Has visibility: {{ form.visibility is defined ? 'YES' : 'NO' }}
</div>

<div class="mel-form-page-header">
  {% if node %}
    <nav class="mel-breadcrumb" aria-label="Breadcrumb">
      <a href="{{ path('entity.node.canonical', {'node': node.id}) }}">{{ node.label }}</a>
      <span class="mel-breadcrumb-separator">/</span>
      <span>Edit</span>
    </nav>
    <h1 class="mel-page-title">{{ 'Edit Event'|t }}</h1>
    <p class="mel-page-intro">{{ 'Update your event details below. Changes will be saved when you submit the form.'|t }}</p>
  {% else %}
    <h1 class="mel-page-title">{{ 'Create New Event'|t }}</h1>
    <p class="mel-page-intro">{{ 'Share your event with the MyEventLane community. Fill out each section below to get started. You can save as a draft and come back to finish later.'|t }}</p>
  {% endif %}
</div>

{# Booking Status (for existing events) #}
{% if form.booking_status %}
  <div class="mel-form-status">
    {{ form.booking_status }}
  </div>
{% endif %}

{# Main Form #}
<form{{ attributes }}>
  {{ form.form_build_id }}
  {{ form.form_token }}
  {{ form.form_id }}

  {# A. Event Basics #}
  {% if form.event_basics %}
    <div class="mel-form-group mel-form-card">
      {{ form.event_basics }}
    </div>
  {% endif %}

  {# B. Date + Time #}
  {% if form.date_time %}
    <div class="mel-form-group mel-form-card">
      {{ form.date_time }}
    </div>
  {% endif %}

  {# C. Location #}
  {% if form.location is defined %}
    <div class="mel-form-group mel-form-card">
      {{ form.location }}
    </div>
  {% endif %}

  {# D. Booking Configuration #}
  {% if form.booking_config is defined %}
    <div class="mel-form-group mel-form-card mel-form-card--highlight">
      {{ form.booking_config }}
    </div>
  {% endif %}

  {# E. Visibility & Promotion #}
  {% if form.visibility is defined %}
    <div class="mel-form-group mel-form-card">
      {% if form.visibility.header %}
        {{ form.visibility.header }}
      {% endif %}
      {% if form.visibility.content %}
        <div class="mel-form-content">
          {{ form.visibility.content }}
        </div>
      {% endif %}
    </div>
  {% endif %}

  {# F. Attendee Questions #}
  {% if form.attendee_questions %}
    <div class="mel-form-group mel-form-card">
      {{ form.attendee_questions }}
    </div>
  {% endif %}

  {# Advanced #}
  {% if form.advanced %}
    <details class="mel-form-advanced">
      <summary class="mel-form-advanced-summary">{{ 'Advanced options'|t }}</summary>
      <div class="mel-form-advanced-content">
        {{ form.advanced }}
      </div>
    </details>
  {% endif %}

  {# Actions #}
  {% if form.actions %}
    <div class="mel-form-sticky-footer">
      {{ form.actions }}
      {% if form.path %}
        {{ form.path }}
      {% endif %}
    </div>
  {% endif %}
</form>











{#
/**
 * Vendor console override for the event node form.
 *
 * Correctly named to match form ID: node_event_form.
 * Mirrors public form layout so Visibility & Promotion renders.
 */
#}

{# Visible debug to confirm this template is used #}
<div style="background: #ffeb3b; padding: 10px; margin: 10px 0; border: 2px solid #f57f17; font-weight: bold;">
  üîç DEBUG: Vendor Event Form Template (correct name)
  {% if node %}
    (Edit Mode - Node ID: {{ node.id }})
  {% else %}
    (Create Mode)
  {% endif %}
  - Form ID: {{ form['#form_id']|default('unknown') }}
  - Form keys: {{ form|keys|join(', ') }}
  - Has location: {{ form.location is defined ? 'YES' : 'NO' }}
  - Has booking_config: {{ form.booking_config is defined ? 'YES' : 'NO' }}
  - Has visibility: {{ form.visibility is defined ? 'YES' : 'NO' }}
</div>

<div class="mel-form-page-header">
  {% if node %}
    <nav class="mel-breadcrumb" aria-label="Breadcrumb">
      <a href="{{ path('entity.node.canonical', {'node': node.id}) }}">{{ node.label }}</a>
      <span class="mel-breadcrumb-separator">/</span>
      <span>Edit</span>
    </nav>
    <h1 class="mel-page-title">{{ 'Edit Event'|t }}</h1>
    <p class="mel-page-intro">{{ 'Update your event details below. Changes will be saved when you submit the form.'|t }}</p>
  {% else %}
    <h1 class="mel-page-title">{{ 'Create New Event'|t }}</h1>
    <p class="mel-page-intro">{{ 'Share your event with the MyEventLane community. Fill out each section below to get started. You can save as a draft and come back to finish later.'|t }}</p>
  {% endif %}
</div>

{# Booking Status #}
{% if form.booking_status %}
  <div class="mel-form-status">
    {{ form.booking_status }}
  </div>
{% endif %}

<form{{ attributes }}>
  {{ form.form_build_id }}
  {{ form.form_token }}
  {{ form.form_id }}

  {% if form.event_basics %}
    <div class="mel-form-group mel-form-card">
      {{ form.event_basics }}
    </div>
  {% endif %}

  {% if form.date_time %}
    <div class="mel-form-group mel-form-card">
      {{ form.date_time }}
    </div>
  {% endif %}

  {% if form.location is defined %}
    <div class="mel-form-group mel-form-card">
      {{ form.location }}
    </div>
  {% endif %}

  {% if form.booking_config is defined %}
    <div class="mel-form-group mel-form-card mel-form-card--highlight">
      {{ form.booking_config }}
    </div>
  {% endif %}

  {% if form.visibility is defined %}
    <div class="mel-form-group mel-form-card">
      {% if form.visibility.header %}
        {{ form.visibility.header }}
      {% endif %}
      {% if form.visibility.content %}
        <div class="mel-form-content">
          {{ form.visibility.content }}
        </div>
      {% endif %}
    </div>
  {% endif %}

  {% if form.attendee_questions %}
    <div class="mel-form-group mel-form-card">
      {{ form.attendee_questions }}
    </div>
  {% endif %}

  {% if form.advanced %}
    <details class="mel-form-advanced">
      <summary class="mel-form-advanced-summary">{{ 'Advanced options'|t }}</summary>
      <div class="mel-form-advanced-content">
        {{ form.advanced }}
      </div>
    </details>
  {% endif %}

  {% if form.actions %}
    <div class="mel-form-sticky-footer">
      {{ form.actions }}
      {% if form.path %}
        {{ form.path }}
      {% endif %}
    </div>
  {% endif %}
</form>











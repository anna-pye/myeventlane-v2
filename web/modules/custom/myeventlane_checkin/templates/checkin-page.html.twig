{#
/**
 * @file
 * Check-in page template.
 */
#}
<div class="checkin-page">
  <h1>{{ 'Check-in: @event'|t({'@event': event.label}) }}</h1>

  <div class="checkin-stats">
    <div class="stat">
      <span class="stat-label">{{ 'Total'|t }}</span>
      <span class="stat-value">{{ stats.total }}</span>
    </div>
    <div class="stat">
      <span class="stat-label">{{ 'Checked in'|t }}</span>
      <span class="stat-value">{{ stats.checked_in }}</span>
    </div>
    <div class="stat">
      <span class="stat-label">{{ 'Remaining'|t }}</span>
      <span class="stat-value">{{ stats.remaining }}</span>
    </div>
  </div>

  <div class="checkin-actions">
    <a href="{{ path('myeventlane_checkin.scan', {'node': event.id}) }}" class="button button--primary">{{ 'Scan QR Code'|t }}</a>
    <a href="{{ path('myeventlane_checkin.list', {'node': event.id}) }}" class="button">{{ 'View List'|t }}</a>
  </div>

  <div class="checkin-search">
    <input type="text" id="checkin-search-input" placeholder="{{ 'Search by name or email...'|t }}" class="form-text">
    <div id="checkin-search-results"></div>
  </div>

  <div class="checkin-attendees">
    {% for attendee in attendees %}
      <div class="attendee-item" data-attendee-id="{{ attendee.id }}" data-type="{{ attendee.type }}">
        <div class="attendee-info">
          <strong>{{ attendee.name }}</strong>
          <span class="attendee-email">{{ attendee.email }}</span>
        </div>
        <div class="attendee-status">
          {% if attendee.checked_in %}
            <span class="status-badge status-checked-in">{{ 'Checked in'|t }}</span>
          {% else %}
            <span class="status-badge status-not-checked-in">{{ 'Not checked in'|t }}</span>
          {% endif %}
        </div>
        <button class="checkin-toggle-button" data-attendee-id="{{ attendee.id }}" data-type="{{ attendee.type }}">
          {% if attendee.checked_in %}
            {{ 'Undo'|t }}
          {% else %}
            {{ 'Check in'|t }}
          {% endif %}
        </button>
      </div>
    {% endfor %}
  </div>
</div>

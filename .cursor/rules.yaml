rules:
  - id: always-full-file
    description: Always rewrite entire files when modifications are required.
    pattern: "*"
    match: true
    actions:
      - type: enforce
        message: "Rewrite full files, not patches."

  - id: drupal-twig-best-practices
    description: Ensure all Twig output follows Drupal 11 best practices.
    pattern: "**/*.twig"
    actions:
      - type: enforce
        message: >
          Use attributes correctly, avoid deprecated Twig filters,
          ensure title_prefix/title_suffix are rendered, 
          use attach_library for JS/CSS assets.

  - id: scss-module-architecture
    description: Force SCSS to use @use and @forward only (no @import).
    pattern: "**/*.scss"
    actions:
      - type: enforce
        message: >
          All SCSS must use @use and @forward at the top of the file.
          No @import allowed. Ensure mobile-first structure and follow
          MyEventLane style tokens.

  - id: vite-asset-handling
    description: JS/SCSS must compile cleanly with Vite inside DDEV.
    pattern: "**/*"
    actions:
      - type: enforce
        message: >
          Ensure file paths resolve correctly under Vite. Avoid Drupal 
          inline scripts; use ES modules and attach_library.

  - id: ui-guideline
    description: Enforce MyEventLane style system.
    pattern: "**/*"
    actions:
      - type: enforce
        message: >
          UI must follow MyEventLane pastel palette, soft radius tokens, 
          bold headings, accessible spacing, card-based layouts, 
          mobile-first breakpoints, and 44px touch targets.